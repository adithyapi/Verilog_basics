#! /c/iverilog/bin/vvp
:ivl_version "0.9.6 " "(v0_9_6)";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_016D72D0 .scope module, "top_module" "top_module" 2 4;
 .timescale -9 -12;
v01706478_0 .net "SCL", 0 0, v017060B0_0; 1 drivers
RS_016D9FF4 .resolv tri, L_01706D68, L_01706DC0, C4<z>, C4<z>;
v017064D0_0 .net8 "SDL", 0 0, RS_016D9FF4; 2 drivers
S_016D5F28 .scope module, "dut" "master" 2 11, 3 1, S_016D72D0;
 .timescale -9 -12;
L_016D17C0 .functor BUFZ 1, RS_016D9FF4, C4<0>, C4<0>, C4<0>;
v01706058_0 .var "ADC_read", 0 0;
v017060B0_0 .var "SCL", 0 0;
v01706108_0 .net "SDA_rx", 0 0, L_016D17C0; 1 drivers
v01706160_0 .var "SDA_tx", 0 0;
v017061B8_0 .alias "SDL", 0 0, v017064D0_0;
v01706210_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v01706268_0 .var "clk", 0 0;
v017062C0_0 .var/i "i", 31 0;
v01706318_0 .var/i "j", 31 0;
v01706370_0 .var "oe", 0 0;
v017063C8_0 .var "start", 0 0;
v01706420_0 .var/i "state", 31 0;
E_0075AC00 .event posedge, v017063C8_0;
E_0075AA40/0 .event negedge, v01706268_0;
E_0075AA40/1 .event posedge, v01706268_0;
E_0075AA40 .event/or E_0075AA40/0, E_0075AA40/1;
L_01706D68 .functor MUXZ 1, C4<z>, v01706160_0, v01706370_0, C4<>;
S_016D5C80 .scope task, "start_task" "start_task" 3 86, 3 86, S_016D5F28;
 .timescale -9 -12;
TD_top_module.dut.start_task ;
    %set/v v01706160_0, 0, 1;
    %vpi_call 3 89 "$display", "START MASTER---state=%g, time=%g", v01706420_0, $time;
    %movi 8, 1, 32;
    %ix/load 0, 32, 0;
    %assign/v0 v01706420_0, 0, 8;
    %delay 600000, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v017063C8_0, 0, 1;
    %end;
S_016D5D90 .scope task, "write_slave" "write_slave" 3 96, 3 96, S_016D5F28;
 .timescale -9 -12;
v016C81D0_0 .var "address", 7 0;
v01706000_0 .var "data", 7 0;
E_0075ABA0 .event negedge, v01706268_0;
E_0075AB60 .event posedge, v01706268_0;
TD_top_module.dut.write_slave ;
    %movi 8, 7, 32;
    %set/v v017062C0_0, 8, 32;
T_1.0 ;
    %load/v 8, v017062C0_0, 32;
    %cmp/s 1, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_1.1, 5;
    %wait E_0075AB60;
    %vpi_call 3 123 "$display", "Address %g bit %g", v017062C0_0, $time;
    %ix/getv/s 1, v017062C0_0;
    %jmp/1 T_1.2, 4;
    %load/x1p 8, v016C81D0_0, 1;
    %jmp T_1.3;
T_1.2 ;
    %mov 8, 2, 1;
T_1.3 ;
; Save base=8 wid=1 in lookaside.
    %set/v v01706160_0, 8, 1;
    %vpi_call 3 125 "$display", "Address %g bit sent=%b,%g", v017062C0_0, &PV<v016C81D0_0, v017062C0_0, 1>, $time;
    %load/v 8, v017062C0_0, 32;
    %cmp/u 8, 1, 32;
    %jmp/0xz  T_1.4, 4;
    %set/v v01706370_0, 0, 1;
    %wait E_0075ABA0;
    %load/v 8, v01706108_0, 1;
    %set/v v01706058_0, 8, 1;
    %vpi_call 3 132 "$display", "ACK Recieved=%b", v01706058_0, $time;
    %load/v 8, v01706058_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz  T_1.6, 4;
    %vpi_call 3 135 "$display", "ACK Recieved";
T_1.6 ;
T_1.4 ;
    %load/v 8, v017062C0_0, 32;
    %subi 8, 1, 32;
    %set/v v017062C0_0, 8, 32;
    %jmp T_1.0;
T_1.1 ;
    %end;
S_016D6E90 .scope module, "uut" "slave" 2 12, 4 3, S_016D72D0;
 .timescale -9 -12;
P_016C809C .param/l "ACK_state" 4 22, +C4<010>;
P_016C80B0 .param/l "NACK_state" 4 24, +C4<0100>;
P_016C80C4 .param/l "address_state" 4 21, +C4<01>;
P_016C80D8 .param/l "data_state" 4 23, +C4<011>;
P_016C80EC .param/l "idle_state" 4 20, +C4<0>;
v016C2D00_0 .alias "SCL", 0 0, v01706478_0;
v016C5998_0 .alias "SDL", 0 0, v017064D0_0;
v016C2760_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v016C1978_0 .var "data_txtb", 0 0;
v016D4E20_0 .var "oe", 0 0;
v016D52A0_0 .var/i "start", 31 0;
v016D52F8_0 .var/i "state", 31 0;
v016C8178_0 .var "test", 0 0;
L_01706DC0 .functor MUXZ 1, v016C1978_0, C4<z>, v016D4E20_0, C4<>;
S_016D71C0 .scope module, "top_module_tb" "top_module_tb" 5 2;
 .timescale -9 -12;
v01706CB8_0 .net "SCL", 0 0, v017068F0_0; 1 drivers
RS_016DA1D4 .resolv tri, L_01706E18, L_01706E70, C4<z>, C4<z>;
v01706D10_0 .net8 "SDL", 0 0, RS_016DA1D4; 2 drivers
S_016D6C70 .scope module, "dut" "master" 5 7, 3 1, S_016D71C0;
 .timescale -9 -12;
L_016D16E0 .functor BUFZ 1, RS_016DA1D4, C4<0>, C4<0>, C4<0>;
v01706898_0 .var "ADC_read", 0 0;
v017068F0_0 .var "SCL", 0 0;
v01706948_0 .net "SDA_rx", 0 0, L_016D16E0; 1 drivers
v017069A0_0 .var "SDA_tx", 0 0;
v017069F8_0 .alias "SDL", 0 0, v01706D10_0;
v01706A50_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v01706AA8_0 .var "clk", 0 0;
v01706B00_0 .var/i "i", 31 0;
v01706B58_0 .var/i "j", 31 0;
v01706BB0_0 .var "oe", 0 0;
v01706C08_0 .var "start", 0 0;
v01706C60_0 .var/i "state", 31 0;
E_0075AA60 .event posedge, v01706C08_0;
E_0075AEA0/0 .event negedge, v01706AA8_0;
E_0075AEA0/1 .event posedge, v01706AA8_0;
E_0075AEA0 .event/or E_0075AEA0/0, E_0075AEA0/1;
L_01706E18 .functor MUXZ 1, C4<z>, v017069A0_0, v01706BB0_0, C4<>;
S_016D69C8 .scope task, "start_task" "start_task" 3 86, 3 86, S_016D6C70;
 .timescale -9 -12;
TD_top_module_tb.dut.start_task ;
    %set/v v017069A0_0, 0, 1;
    %vpi_call 3 89 "$display", "START MASTER---state=%g, time=%g", v01706C60_0, $time;
    %movi 8, 1, 32;
    %ix/load 0, 32, 0;
    %assign/v0 v01706C60_0, 0, 8;
    %delay 600000, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v01706C08_0, 0, 1;
    %end;
S_016D6B60 .scope task, "write_slave" "write_slave" 3 96, 3 96, S_016D6C70;
 .timescale -9 -12;
v017067E8_0 .var "address", 7 0;
v01706840_0 .var "data", 7 0;
E_0075AE80 .event negedge, v01706AA8_0;
E_0075AEC0 .event posedge, v01706AA8_0;
TD_top_module_tb.dut.write_slave ;
    %movi 8, 7, 32;
    %set/v v01706B00_0, 8, 32;
T_3.8 ;
    %load/v 8, v01706B00_0, 32;
    %cmp/s 1, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_3.9, 5;
    %wait E_0075AEC0;
    %vpi_call 3 123 "$display", "Address %g bit %g", v01706B00_0, $time;
    %ix/getv/s 1, v01706B00_0;
    %jmp/1 T_3.10, 4;
    %load/x1p 8, v017067E8_0, 1;
    %jmp T_3.11;
T_3.10 ;
    %mov 8, 2, 1;
T_3.11 ;
; Save base=8 wid=1 in lookaside.
    %set/v v017069A0_0, 8, 1;
    %vpi_call 3 125 "$display", "Address %g bit sent=%b,%g", v01706B00_0, &PV<v017067E8_0, v01706B00_0, 1>, $time;
    %load/v 8, v01706B00_0, 32;
    %cmp/u 8, 1, 32;
    %jmp/0xz  T_3.12, 4;
    %set/v v01706BB0_0, 0, 1;
    %wait E_0075AE80;
    %load/v 8, v01706948_0, 1;
    %set/v v01706898_0, 8, 1;
    %vpi_call 3 132 "$display", "ACK Recieved=%b", v01706898_0, $time;
    %load/v 8, v01706898_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz  T_3.14, 4;
    %vpi_call 3 135 "$display", "ACK Recieved";
T_3.14 ;
T_3.12 ;
    %load/v 8, v01706B00_0, 32;
    %subi 8, 1, 32;
    %set/v v01706B00_0, 8, 32;
    %jmp T_3.8;
T_3.9 ;
    %end;
S_016D5950 .scope module, "uut" "slave" 5 8, 4 3, S_016D71C0;
 .timescale -9 -12;
P_016C822C .param/l "ACK_state" 4 22, +C4<010>;
P_016C8240 .param/l "NACK_state" 4 24, +C4<0100>;
P_016C8254 .param/l "address_state" 4 21, +C4<01>;
P_016C8268 .param/l "data_state" 4 23, +C4<011>;
P_016C827C .param/l "idle_state" 4 20, +C4<0>;
v01706528_0 .alias "SCL", 0 0, v01706CB8_0;
v01706580_0 .alias "SDL", 0 0, v01706D10_0;
v017065D8_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v01706630_0 .var "data_txtb", 0 0;
v01706688_0 .var "oe", 0 0;
v017066E0_0 .var/i "start", 31 0;
v01706738_0 .var/i "state", 31 0;
v01706790_0 .var "test", 0 0;
L_01706E70 .functor MUXZ 1, v01706630_0, C4<z>, v01706688_0, C4<>;
    .scope S_016D5F28;
T_4 ;
    %vpi_call 3 26 "$display", "MASTER COMMUNICATING";
    %movi 8, 7, 32;
    %set/v v017062C0_0, 8, 32;
    %movi 8, 7, 32;
    %set/v v01706318_0, 8, 32;
    %set/v v01706268_0, 0, 1;
    %set/v v01706420_0, 0, 32;
    %set/v v017063C8_0, 0, 1;
    %set/v v01706370_0, 1, 1;
    %set/v v017060B0_0, 1, 1;
    %set/v v01706160_0, 1, 1;
    %delay 1000000, 0;
    %fork TD_top_module.dut.start_task, S_016D5C80;
    %join;
    %movi 8, 168, 8;
    %set/v v016C81D0_0, 8, 8;
    %movi 8, 170, 8;
    %set/v v01706000_0, 8, 8;
    %fork TD_top_module.dut.write_slave, S_016D5D90;
    %join;
    %delay 100000000, 0;
    %vpi_call 3 44 "$display", "START---oe=%g,start=%g,state=%g,i=%g,j=%g,time=%g", v01706370_0, v017063C8_0, v01706420_0, v017062C0_0, v01706318_0, $time;
    %end;
    .thread T_4;
    .scope S_016D5F28;
T_5 ;
    %wait E_0075AA40;
    %load/v 8, v017060B0_0, 1;
    %inv 8, 1;
    %set/v v017060B0_0, 8, 1;
    %jmp T_5;
    .thread T_5;
    .scope S_016D5F28;
T_6 ;
    %wait E_0075AC00;
T_6.0 ;
    %load/v 8, v017063C8_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz T_6.1, 4;
    %set/v v01706268_0, 1, 1;
    %delay 1300000, 0;
    %set/v v01706268_0, 0, 1;
    %delay 1200000, 0;
    %jmp T_6.0;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_016D6E90;
T_7 ;
    %set/v v016D52F8_0, 0, 32;
    %set/v v016D52A0_0, 0, 32;
    %set/v v016D4E20_0, 1, 1;
    %set/v v016C8178_0, 1, 1;
    %vpi_call 4 39 "$display", "SLAVE COMMUNICATING";
    %delay 21600000, 0;
    %set/v v016D4E20_0, 0, 1;
    %set/v v016C1978_0, 0, 1;
    %delay 2000000, 0;
    %vpi_call 4 44 "$finish";
    %end;
    .thread T_7;
    .scope S_016D6C70;
T_8 ;
    %vpi_call 3 26 "$display", "MASTER COMMUNICATING";
    %movi 8, 7, 32;
    %set/v v01706B00_0, 8, 32;
    %movi 8, 7, 32;
    %set/v v01706B58_0, 8, 32;
    %set/v v01706AA8_0, 0, 1;
    %set/v v01706C60_0, 0, 32;
    %set/v v01706C08_0, 0, 1;
    %set/v v01706BB0_0, 1, 1;
    %set/v v017068F0_0, 1, 1;
    %set/v v017069A0_0, 1, 1;
    %delay 1000000, 0;
    %fork TD_top_module_tb.dut.start_task, S_016D69C8;
    %join;
    %movi 8, 168, 8;
    %set/v v017067E8_0, 8, 8;
    %movi 8, 170, 8;
    %set/v v01706840_0, 8, 8;
    %fork TD_top_module_tb.dut.write_slave, S_016D6B60;
    %join;
    %delay 100000000, 0;
    %vpi_call 3 44 "$display", "START---oe=%g,start=%g,state=%g,i=%g,j=%g,time=%g", v01706BB0_0, v01706C08_0, v01706C60_0, v01706B00_0, v01706B58_0, $time;
    %end;
    .thread T_8;
    .scope S_016D6C70;
T_9 ;
    %wait E_0075AEA0;
    %load/v 8, v017068F0_0, 1;
    %inv 8, 1;
    %set/v v017068F0_0, 8, 1;
    %jmp T_9;
    .thread T_9;
    .scope S_016D6C70;
T_10 ;
    %wait E_0075AA60;
T_10.0 ;
    %load/v 8, v01706C08_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz T_10.1, 4;
    %set/v v01706AA8_0, 1, 1;
    %delay 1300000, 0;
    %set/v v01706AA8_0, 0, 1;
    %delay 1200000, 0;
    %jmp T_10.0;
T_10.1 ;
    %jmp T_10;
    .thread T_10;
    .scope S_016D5950;
T_11 ;
    %set/v v01706738_0, 0, 32;
    %set/v v017066E0_0, 0, 32;
    %set/v v01706688_0, 1, 1;
    %set/v v01706790_0, 1, 1;
    %vpi_call 4 39 "$display", "SLAVE COMMUNICATING";
    %delay 21600000, 0;
    %set/v v01706688_0, 0, 1;
    %set/v v01706630_0, 0, 1;
    %delay 2000000, 0;
    %vpi_call 4 44 "$finish";
    %end;
    .thread T_11;
    .scope S_016D71C0;
T_12 ;
    %vpi_call 5 13 "$dumpfile", "top.vcd";
    %vpi_call 5 14 "$dumpvars", 2'sb01;
    %vpi_call 5 15 "$display", "TESTBENCH";
    %vpi_call 5 16 "$display", "%d", v01706688_0;
    %delay 100000000, 0;
    %vpi_call 5 18 "$finish";
    %end;
    .thread T_12;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "top_module.v";
    "./design.v";
    "./slave.v";
    "top_module_tb.v";
