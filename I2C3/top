#! /c/iverilog/bin/vvp
:ivl_version "0.9.6 " "(v0_9_6)";
:vpi_time_precision - 12;
:vpi_module "system";
:vpi_module "v2005_math";
:vpi_module "va_math";
S_017A7230 .scope module, "top_module" "top_module" 2 4;
 .timescale -9 -12;
v017D5030_0 .net "SCL", 0 0, v017D4C68_0; 1 drivers
RS_017AA004 .resolv tri, L_017D5920, L_017D5978, C4<z>, C4<z>;
v017D5088_0 .net8 "SDL", 0 0, RS_017AA004; 2 drivers
S_017A5E88 .scope module, "dut" "master" 2 11, 3 1, S_017A7230;
 .timescale -9 -12;
L_017A0E30 .functor BUFZ 1, RS_017AA004, C4<0>, C4<0>, C4<0>;
v017D4C10_0 .var "ADC_read", 0 0;
v017D4C68_0 .var "SCL", 0 0;
v017D4CC0_0 .net "SDA_rx", 0 0, L_017A0E30; 1 drivers
v017D4D18_0 .var "SDA_tx", 0 0;
v017D4D70_0 .alias "SDL", 0 0, v017D5088_0;
v017D4DC8_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v017D4E20_0 .var "clk", 0 0;
v017D4E78_0 .var/i "i", 31 0;
v017D4ED0_0 .var/i "j", 31 0;
v017D4F28_0 .var "oe", 0 0;
v017D4F80_0 .var "start", 0 0;
v017D4FD8_0 .var/i "state", 31 0;
E_0038AA20 .event "_s11";
E_0038A860 .event posedge, v017D4F80_0;
E_0038A9C0/0 .event negedge, v017D4E20_0;
E_0038A9C0/1 .event posedge, v017D4E20_0;
E_0038A9C0 .event/or E_0038A9C0/0, E_0038A9C0/1;
L_017D5920 .functor MUXZ 1, C4<z>, v017D4D18_0, v017D4F28_0, C4<>;
S_017A5CF0 .scope task, "write_slave" "write_slave" 3 83, 3 83, S_017A5E88;
 .timescale -9 -12;
v017995F0_0 .var "address", 7 0;
v01799648_0 .var "data", 7 0;
E_0038A980 .event negedge, v017D4E20_0;
E_0038A880 .event posedge, v017D4E20_0;
TD_top_module.dut.write_slave ;
    %set/v v017D4D18_0, 0, 1;
    %vpi_call 3 102 "$display", "START MASTER---state=%g, time=%g", v017D4FD8_0, $time;
    %movi 8, 1, 32;
    %ix/load 0, 32, 0;
    %assign/v0 v017D4FD8_0, 0, 8;
    %delay 600000, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v017D4F80_0, 0, 1;
    %movi 8, 7, 32;
    %set/v v017D4E78_0, 8, 32;
T_0.0 ;
    %load/v 8, v017D4E78_0, 32;
    %cmp/s 1, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_0.1, 5;
    %wait E_0038A880;
    %vpi_call 3 110 "$display", "Address %g bit %g", v017D4E78_0, $time;
    %ix/getv/s 1, v017D4E78_0;
    %jmp/1 T_0.2, 4;
    %load/x1p 8, v017995F0_0, 1;
    %jmp T_0.3;
T_0.2 ;
    %mov 8, 2, 1;
T_0.3 ;
; Save base=8 wid=1 in lookaside.
    %set/v v017D4D18_0, 8, 1;
    %vpi_call 3 112 "$display", "Address %g bit sent=%b,%g", v017D4E78_0, &PV<v017995F0_0, v017D4E78_0, 1>, $time;
    %load/v 8, v017D4E78_0, 32;
    %cmp/u 8, 1, 32;
    %jmp/0xz  T_0.4, 4;
    %set/v v017D4F28_0, 0, 1;
    %wait E_0038A980;
    %load/v 8, v017D4CC0_0, 1;
    %set/v v017D4C10_0, 8, 1;
    %vpi_call 3 119 "$display", "ACK Recieved=%b", v017D4C10_0, $time;
    %load/v 8, v017D4C10_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz  T_0.6, 4;
    %vpi_call 3 122 "$display", "ACK Recieved";
T_0.6 ;
T_0.4 ;
    %load/v 8, v017D4E78_0, 32;
    %subi 8, 1, 32;
    %set/v v017D4E78_0, 8, 32;
    %jmp T_0.0;
T_0.1 ;
    %end;
S_017A6DF0 .scope module, "uut" "slave" 2 12, 4 3, S_017A7230;
 .timescale -9 -12;
P_017962DC .param/l "ACK_state" 4 22, +C4<010>;
P_017962F0 .param/l "NACK_state" 4 24, +C4<0100>;
P_01796304 .param/l "address_state" 4 21, +C4<01>;
P_01796318 .param/l "data_state" 4 23, +C4<011>;
P_0179632C .param/l "idle_state" 4 20, +C4<0>;
v017927A0_0 .alias "SCL", 0 0, v017D5030_0;
v017A9F38_0 .alias "SDL", 0 0, v017D5088_0;
v01792AA8_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v01796980_0 .var "data_txtb", 0 0;
v017964D8_0 .var "oe", 0 0;
v017A51C0_0 .var/i "start", 31 0;
v017A5218_0 .var/i "state", 31 0;
v01799598_0 .var "test", 0 0;
L_017D5978 .functor MUXZ 1, v01796980_0, C4<z>, v017964D8_0, C4<>;
S_017A7120 .scope module, "top_module_tb" "top_module_tb" 5 2;
 .timescale -9 -12;
v017D5870_0 .net "SCL", 0 0, v017D54A8_0; 1 drivers
RS_017AA1E4 .resolv tri, L_017D59D0, L_017D5A28, C4<z>, C4<z>;
v017D58C8_0 .net8 "SDL", 0 0, RS_017AA1E4; 2 drivers
S_017A58B0 .scope module, "dut" "master" 5 7, 3 1, S_017A7120;
 .timescale -9 -12;
L_017A0D50 .functor BUFZ 1, RS_017AA1E4, C4<0>, C4<0>, C4<0>;
v017D5450_0 .var "ADC_read", 0 0;
v017D54A8_0 .var "SCL", 0 0;
v017D5500_0 .net "SDA_rx", 0 0, L_017A0D50; 1 drivers
v017D5558_0 .var "SDA_tx", 0 0;
v017D55B0_0 .alias "SDL", 0 0, v017D58C8_0;
v017D5608_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v017D5660_0 .var "clk", 0 0;
v017D56B8_0 .var/i "i", 31 0;
v017D5710_0 .var/i "j", 31 0;
v017D5768_0 .var "oe", 0 0;
v017D57C0_0 .var "start", 0 0;
v017D5818_0 .var/i "state", 31 0;
E_0038ACE0 .event "_s11";
E_0038ACA0 .event posedge, v017D57C0_0;
E_0038AC80/0 .event negedge, v017D5660_0;
E_0038AC80/1 .event posedge, v017D5660_0;
E_0038AC80 .event/or E_0038AC80/0, E_0038AC80/1;
L_017D59D0 .functor MUXZ 1, C4<z>, v017D5558_0, v017D5768_0, C4<>;
S_017A6BD0 .scope task, "write_slave" "write_slave" 3 83, 3 83, S_017A58B0;
 .timescale -9 -12;
v017D53A0_0 .var "address", 7 0;
v017D53F8_0 .var "data", 7 0;
E_0038ACC0 .event negedge, v017D5660_0;
E_0038AC60 .event posedge, v017D5660_0;
TD_top_module_tb.dut.write_slave ;
    %set/v v017D5558_0, 0, 1;
    %vpi_call 3 102 "$display", "START MASTER---state=%g, time=%g", v017D5818_0, $time;
    %movi 8, 1, 32;
    %ix/load 0, 32, 0;
    %assign/v0 v017D5818_0, 0, 8;
    %delay 600000, 0;
    %ix/load 0, 1, 0;
    %assign/v0 v017D57C0_0, 0, 1;
    %movi 8, 7, 32;
    %set/v v017D56B8_0, 8, 32;
T_1.8 ;
    %load/v 8, v017D56B8_0, 32;
    %cmp/s 1, 8, 32;
    %or 5, 4, 1;
    %jmp/0xz T_1.9, 5;
    %wait E_0038AC60;
    %vpi_call 3 110 "$display", "Address %g bit %g", v017D56B8_0, $time;
    %ix/getv/s 1, v017D56B8_0;
    %jmp/1 T_1.10, 4;
    %load/x1p 8, v017D53A0_0, 1;
    %jmp T_1.11;
T_1.10 ;
    %mov 8, 2, 1;
T_1.11 ;
; Save base=8 wid=1 in lookaside.
    %set/v v017D5558_0, 8, 1;
    %vpi_call 3 112 "$display", "Address %g bit sent=%b,%g", v017D56B8_0, &PV<v017D53A0_0, v017D56B8_0, 1>, $time;
    %load/v 8, v017D56B8_0, 32;
    %cmp/u 8, 1, 32;
    %jmp/0xz  T_1.12, 4;
    %set/v v017D5768_0, 0, 1;
    %wait E_0038ACC0;
    %load/v 8, v017D5500_0, 1;
    %set/v v017D5450_0, 8, 1;
    %vpi_call 3 119 "$display", "ACK Recieved=%b", v017D5450_0, $time;
    %load/v 8, v017D5450_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz  T_1.14, 4;
    %vpi_call 3 122 "$display", "ACK Recieved";
T_1.14 ;
T_1.12 ;
    %load/v 8, v017D56B8_0, 32;
    %subi 8, 1, 32;
    %set/v v017D56B8_0, 8, 32;
    %jmp T_1.8;
T_1.9 ;
    %end;
S_017A5BE0 .scope module, "uut" "slave" 5 8, 4 3, S_017A7120;
 .timescale -9 -12;
P_017A8F2C .param/l "ACK_state" 4 22, +C4<010>;
P_017A8F40 .param/l "NACK_state" 4 24, +C4<0100>;
P_017A8F54 .param/l "address_state" 4 21, +C4<01>;
P_017A8F68 .param/l "data_state" 4 23, +C4<011>;
P_017A8F7C .param/l "idle_state" 4 20, +C4<0>;
v017D50E0_0 .alias "SCL", 0 0, v017D5870_0;
v017D5138_0 .alias "SDL", 0 0, v017D58C8_0;
v017D5190_0 .net *"_s0", 0 0, C4<z>; 0 drivers
v017D51E8_0 .var "data_txtb", 0 0;
v017D5240_0 .var "oe", 0 0;
v017D5298_0 .var/i "start", 31 0;
v017D52F0_0 .var/i "state", 31 0;
v017D5348_0 .var "test", 0 0;
L_017D5A28 .functor MUXZ 1, v017D51E8_0, C4<z>, v017D5240_0, C4<>;
    .scope S_017A5E88;
T_2 ;
    %vpi_call 3 26 "$display", "MASTER COMMUNICATING";
    %movi 8, 7, 32;
    %set/v v017D4E78_0, 8, 32;
    %movi 8, 7, 32;
    %set/v v017D4ED0_0, 8, 32;
    %set/v v017D4E20_0, 0, 1;
    %set/v v017D4FD8_0, 0, 32;
    %set/v v017D4F80_0, 0, 1;
    %set/v v017D4F28_0, 1, 1;
    %set/v v017D4C68_0, 1, 1;
    %set/v v017D4D18_0, 1, 1;
    %delay 1000000, 0;
    %movi 8, 168, 8;
    %set/v v017995F0_0, 8, 8;
    %movi 8, 170, 8;
    %set/v v01799648_0, 8, 8;
    %fork TD_top_module.dut.write_slave, S_017A5CF0;
    %join;
    %delay 100000000, 0;
    %vpi_call 3 42 "$display", "START---oe=%g,start=%g,state=%g,i=%g,j=%g,time=%g", v017D4F28_0, v017D4F80_0, v017D4FD8_0, v017D4E78_0, v017D4ED0_0, $time;
    %end;
    .thread T_2;
    .scope S_017A5E88;
T_3 ;
    %wait E_0038A9C0;
    %load/v 8, v017D4C68_0, 1;
    %inv 8, 1;
    %set/v v017D4C68_0, 8, 1;
    %jmp T_3;
    .thread T_3;
    .scope S_017A5E88;
T_4 ;
    %wait E_0038A860;
T_4.0 ;
    %load/v 8, v017D4F80_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz T_4.1, 4;
    %set/v v017D4E20_0, 1, 1;
    %delay 1300000, 0;
    %set/v v017D4E20_0, 0, 1;
    %delay 1200000, 0;
    %jmp T_4.0;
T_4.1 ;
    %jmp T_4;
    .thread T_4;
    .scope S_017A5E88;
T_5 ;
    %wait E_0038AA20;
    %jmp T_5;
    .thread T_5;
    .scope S_017A6DF0;
T_6 ;
    %set/v v017A5218_0, 0, 32;
    %set/v v017A51C0_0, 0, 32;
    %set/v v017964D8_0, 1, 1;
    %set/v v01799598_0, 1, 1;
    %vpi_call 4 39 "$display", "SLAVE COMMUNICATING";
    %delay 21600000, 0;
    %set/v v017964D8_0, 0, 1;
    %set/v v01796980_0, 1, 1;
    %delay 2000000, 0;
    %vpi_call 4 44 "$finish";
    %end;
    .thread T_6;
    .scope S_017A58B0;
T_7 ;
    %vpi_call 3 26 "$display", "MASTER COMMUNICATING";
    %movi 8, 7, 32;
    %set/v v017D56B8_0, 8, 32;
    %movi 8, 7, 32;
    %set/v v017D5710_0, 8, 32;
    %set/v v017D5660_0, 0, 1;
    %set/v v017D5818_0, 0, 32;
    %set/v v017D57C0_0, 0, 1;
    %set/v v017D5768_0, 1, 1;
    %set/v v017D54A8_0, 1, 1;
    %set/v v017D5558_0, 1, 1;
    %delay 1000000, 0;
    %movi 8, 168, 8;
    %set/v v017D53A0_0, 8, 8;
    %movi 8, 170, 8;
    %set/v v017D53F8_0, 8, 8;
    %fork TD_top_module_tb.dut.write_slave, S_017A6BD0;
    %join;
    %delay 100000000, 0;
    %vpi_call 3 42 "$display", "START---oe=%g,start=%g,state=%g,i=%g,j=%g,time=%g", v017D5768_0, v017D57C0_0, v017D5818_0, v017D56B8_0, v017D5710_0, $time;
    %end;
    .thread T_7;
    .scope S_017A58B0;
T_8 ;
    %wait E_0038AC80;
    %load/v 8, v017D54A8_0, 1;
    %inv 8, 1;
    %set/v v017D54A8_0, 8, 1;
    %jmp T_8;
    .thread T_8;
    .scope S_017A58B0;
T_9 ;
    %wait E_0038ACA0;
T_9.0 ;
    %load/v 8, v017D57C0_0, 1;
    %mov 9, 0, 2;
    %cmpi/u 8, 1, 3;
    %jmp/0xz T_9.1, 4;
    %set/v v017D5660_0, 1, 1;
    %delay 1300000, 0;
    %set/v v017D5660_0, 0, 1;
    %delay 1200000, 0;
    %jmp T_9.0;
T_9.1 ;
    %jmp T_9;
    .thread T_9;
    .scope S_017A58B0;
T_10 ;
    %wait E_0038ACE0;
    %jmp T_10;
    .thread T_10;
    .scope S_017A5BE0;
T_11 ;
    %set/v v017D52F0_0, 0, 32;
    %set/v v017D5298_0, 0, 32;
    %set/v v017D5240_0, 1, 1;
    %set/v v017D5348_0, 1, 1;
    %vpi_call 4 39 "$display", "SLAVE COMMUNICATING";
    %delay 21600000, 0;
    %set/v v017D5240_0, 0, 1;
    %set/v v017D51E8_0, 1, 1;
    %delay 2000000, 0;
    %vpi_call 4 44 "$finish";
    %end;
    .thread T_11;
    .scope S_017A7120;
T_12 ;
    %vpi_call 5 13 "$dumpfile", "top.vcd";
    %vpi_call 5 14 "$dumpvars", 2'sb01;
    %vpi_call 5 15 "$display", "TESTBENCH";
    %vpi_call 5 16 "$display", "%d", v017D5240_0;
    %delay 100000000, 0;
    %vpi_call 5 18 "$finish";
    %end;
    .thread T_12;
# The file index is used to find the file name in the following table.
:file_names 6;
    "N/A";
    "<interactive>";
    "top_module.v";
    "./design.v";
    "./slave.v";
    "top_module_tb.v";
